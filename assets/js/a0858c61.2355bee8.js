"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[1033],{4135:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});var n=a(4848),r=a(8453);const c={title:"Local Acceleration",sidebar_label:"Local Acceleration",description:"Learn how to use local acceleration in Spice.",sidebar_position:3,pagination_prev:null,pagination_next:null},s=void 0,i={id:"features/local-acceleration/index",title:"Local Acceleration",description:"Learn how to use local acceleration in Spice.",source:"@site/docs/features/local-acceleration/index.md",sourceDirName:"features/local-acceleration",slug:"/features/local-acceleration/",permalink:"/features/local-acceleration/",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/features/local-acceleration/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Local Acceleration",sidebar_label:"Local Acceleration",description:"Learn how to use local acceleration in Spice.",sidebar_position:3,pagination_prev:null,pagination_next:null},sidebar:"docsSidebar"},l={},o=[{value:"Benefits",id:"benefits",level:2},{value:"Example Use Case",id:"example-use-case",level:2},{value:"Considerations",id:"considerations",level:2},{value:"Refresh Modes",id:"refresh-modes",level:2},{value:"Refresh Interval",id:"refresh-interval",level:2},{value:"Retention Policy",id:"retention-policy",level:2},{value:"Example",id:"example",level:2},{value:"Locally Accelerating eth.recent_blocks",id:"locally-accelerating-ethrecent_blocks",level:3},{value:"Limitations",id:"limitations",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Datasets can be locally accelerated by the Spice runtime, pulling data from any ",(0,n.jsx)(t.a,{href:"/data-connectors",children:"Data Connector"})," and storing it locally in a ",(0,n.jsx)(t.a,{href:"/data-accelerators",children:"Data Accelerator"})," for faster access. Additionally, the data is kept up to date in realtime, so you always have the latest data locally for querying."]}),"\n",(0,n.jsx)(t.h2,{id:"benefits",children:"Benefits"}),"\n",(0,n.jsxs)(t.p,{children:["When a dataset is locally accelerated by the Spice runtime, the data is stored alongside your application, providing much faster query times by cutting out network latency to make the request. This benefit is accentuated when the result of a query is large because the data does not need to be transferred over the network. Depending on the ",(0,n.jsx)(t.a,{href:"/data-accelerators",children:"Acceleration Engine"})," chosen, the locally accelerated data can also be stored in-memory, further reducing query times."]}),"\n",(0,n.jsx)(t.h2,{id:"example-use-case",children:"Example Use Case"}),"\n",(0,n.jsxs)(t.p,{children:["Consider a high volume e-trading frontend application backed by an AWS RDS database containing a table of trades. In order to retrieve all trades over the last 24 hours, the application would need to query the remote database for all trades in the last 24 hours and then transfer the data over the network. By accelerating the trades table locally using the ",(0,n.jsx)(t.a,{href:"https://github.com/spiceai/quickstarts/tree/trunk/rds-aurora-mysql",children:"AWS RDS Data Connector"}),", we can bring the data to the application, saving the round trip time to the database and the time to transfer the data over the network."]}),"\n",(0,n.jsx)(t.h2,{id:"considerations",children:"Considerations"}),"\n",(0,n.jsx)(t.p,{children:"Data Storage: Ensure that the local storage has enough capacity to store the accelerated data. The amount and type (i.e. Disk or RAM) of storage required will depend on the size of the dataset and the acceleration engine used."}),"\n",(0,n.jsx)(t.p,{children:"Data Security: Assess data sensitivity and secure network connections between edge and data connector when replicating data for further usage. Assess the security of any Data Accelerator that is external to the Spice runtime and connected to the Spice runtime. Implement encryption, access controls, and secure protocols."}),"\n",(0,n.jsx)(t.h2,{id:"refresh-modes",children:"Refresh Modes"}),"\n",(0,n.jsxs)(t.p,{children:["Dataset acceleration can be configured in ",(0,n.jsx)(t.code,{children:"full"})," (the entire dataset is refreshed) or ",(0,n.jsx)(t.code,{children:"append"})," (new data from a dataset source is appended) modes."]}),"\n",(0,n.jsx)(t.h2,{id:"refresh-interval",children:"Refresh Interval"}),"\n",(0,n.jsxs)(t.p,{children:["For accelerated datasets in ",(0,n.jsx)(t.code,{children:"full"})," mode, the ",(0,n.jsx)(t.a,{href:"/reference/spicepod/datasets#accelerationrefresh_check_interval",children:(0,n.jsx)(t.code,{children:"refresh_check_interval"})})," parameter controls how often the accelerated dataset is refreshed."]}),"\n",(0,n.jsxs)(t.p,{children:["Accelerated datasets can also be refreshed on-demand via the ",(0,n.jsx)(t.code,{children:"refresh"})," CLI command or ",(0,n.jsx)(t.code,{children:"POST /v1/datasets/:name/refresh"})," API endpoint."]}),"\n",(0,n.jsx)(t.p,{children:"An example using cURL:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl -i -XPOST 127.0.0.1:3000/v1/datasets/eth_recent_blocks/refresh\n"})}),"\n",(0,n.jsx)(t.p,{children:"And response"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'HTTP/1.1 201 Created\ncontent-type: application/json\ncontent-length: 55\ndate: Thu, 11 Apr 2024 20:11:18 GMT\n\n{"message":"Dataset refresh triggered for eth_recent_blocks."}\n'})}),"\n",(0,n.jsx)(t.h2,{id:"retention-policy",children:"Retention Policy"}),"\n",(0,n.jsx)(t.p,{children:"A retention policy automatically removes data from accelerated datasets with a temporal column that exceeds the defined retention period, optimizing resource utilization."}),"\n",(0,n.jsxs)(t.p,{children:["The policy is set using the ",(0,n.jsx)(t.a,{href:"/reference/spicepod/datasets#accelerationretention_check_enabled",children:(0,n.jsx)(t.code,{children:"acceleration.retention_check_enabled"})}),", ",(0,n.jsx)(t.a,{href:"/reference/spicepod/datasets#accelerationretention_period",children:(0,n.jsx)(t.code,{children:"acceleration.retention_period"})})," and ",(0,n.jsx)(t.a,{href:"/reference/spicepod/datasets#accelerationretention_check_interval",children:(0,n.jsx)(t.code,{children:"acceleration.retention_check_interval"})})," parameters, along with the ",(0,n.jsx)(t.a,{href:"/reference/spicepod/datasets#time_column",children:(0,n.jsx)(t.code,{children:"time_column"})})," and ",(0,n.jsx)(t.a,{href:"/reference/spicepod/datasets#time_format",children:(0,n.jsx)(t.code,{children:"time_format"})})," dataset parameters."]}),"\n",(0,n.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,n.jsx)(t.h3,{id:"locally-accelerating-ethrecent_blocks",children:"Locally Accelerating eth.recent_blocks"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Start Spice with the following dataset:"}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",children:"datasets:\n  - from: spice.ai/eth.recent_blocks\n    name: eth_recent_blocks\n    acceleration:\n      enabled: true\n      refresh_mode: full\n      refresh_check_interval: 10s\n"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["The dataset ",(0,n.jsx)(t.code,{children:"eth.recent_blocks"})," will be accelerated locally by the Spice runtime. The data will be refreshed every 10 seconds."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Compare query times against the Spice platform:"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl \\\n--url 'https://data.spiceai.io/v1/sql?api_key=[API_KEY]' \\\n--data 'select * from eth.recent_blocks'\n"})}),"\n",(0,n.jsx)(t.p,{children:"And the locally accelerated dataset:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"spice sql\nselect * from eth_recent_blocks\n"})}),"\n",(0,n.jsx)(t.h2,{id:"limitations",children:"Limitations"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Currently, only official ",(0,n.jsx)(t.a,{href:"../data-accelerators",children:"Data Accelerators"})," are supported for local acceleration."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>i});var n=a(6540);const r={},c=n.createContext(r);function s(e){const t=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(c.Provider,{value:t},e.children)}}}]);