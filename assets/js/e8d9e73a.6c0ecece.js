"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[7881],{3097:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var s=n(4848),i=n(8453);const a={title:"Debezium Data Connector",sidebar_label:"Debezium Data Connector",description:"Debezium Data Connector Documentation",pagination_prev:null},o=void 0,r={id:"components/data-connectors/debezium",title:"Debezium Data Connector",description:"Debezium Data Connector Documentation",source:"@site/docs/components/data-connectors/debezium.md",sourceDirName:"components/data-connectors",slug:"/components/data-connectors/debezium",permalink:"/components/data-connectors/debezium",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/components/data-connectors/debezium.md",tags:[],version:"current",frontMatter:{title:"Debezium Data Connector",sidebar_label:"Debezium Data Connector",description:"Debezium Data Connector Documentation",pagination_prev:null},sidebar:"docsSidebar",next:{title:"Delta Lake Data Connector",permalink:"/components/data-connectors/delta-lake"}},c={},d=[{value:"Configuration",id:"configuration",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Acceleration Settings",id:"acceleration-settings",level:3},{value:"Example",id:"example",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://debezium.io/",children:"Debezium"})," is an open-source platform that enables ",(0,s.jsx)(t.a,{href:"/features/cdc/",children:"Change Data Capture (CDC)"})," for efficient real-time updates of locally accelerated datasets. Spice supports connecting to a Kafka topic managed by Debezium to keep datasets up-to-date with the source data."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"datasets:\n  - from: debezium:my_kafka_topic_with_debezium_changes\n    name: my_dataset\n    params:\n      debezium_transport: kafka # Optional. Only `kafka` is currently supported.\n      debezium_message_format: json # Optional. Only `json` is currently supported.\n      kafka_bootstrap_servers: broker1:9092,broker2:9092,broker3:9092 # Required. A comma separated list of Kafka broker servers.\n    acceleration:\n      enabled: true # Acceleration is required for the debezium connector.\n      engine: duckdb # `duckdb`, `sqlite` and `postgres` are supported acceleration engines for Debezium.\n      refresh_mode: changes # Optional. If specified, this is required to be set to `changes` - any other value is an error.\n      mode: file # Persistence is recommended to not have to rebuild the table each time Spice starts.\n"})}),"\n",(0,s.jsx)(t.admonition,{title:"Limitations",type:"warning",children:(0,s.jsxs)(t.p,{children:["Currently, only the ",(0,s.jsx)(t.code,{children:"PLAINTEXT"})," protocol is supported for connecting to Kafka. SSL and SASL are not yet supported."]})}),"\n",(0,s.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"debezium_transport"}),": Optional. The message broker transport to use. The default is ",(0,s.jsx)(t.code,{children:"kafka"}),". Possible values:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"kafka"}),": Use Kafka as the message broker transport. Spice may support additional transports in the future."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"debezium_message_format"}),": Optional. The message format to use. The default is ",(0,s.jsx)(t.code,{children:"json"}),". Possible values:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"json"}),": Use JSON as the message format. Spice is expected to support additional message formats in the future, like ",(0,s.jsx)(t.code,{children:"arvo"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"kafka_bootstrap_servers"}),": Required. A list of host/port pairs for establishing the initial Kafka cluster connection. The client will use all servers, regardless of the bootstrapping servers specified here. This list only affects the initial hosts used to discover the full server set and should be formatted as ",(0,s.jsx)(t.code,{children:"host1:port1,host2:port2,..."}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"acceleration-settings",children:"Acceleration Settings"}),"\n",(0,s.jsx)(t.p,{children:"Using the Debezium connector requires acceleration to be enabled. The following settings are required:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"enabled"}),": Required. Must be set to ",(0,s.jsx)(t.code,{children:"true"})," to enable acceleration."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"engine"}),": Required. The acceleration engine to use. Possible valid values:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"duckdb"}),": Use ",(0,s.jsx)(t.a,{href:"/components/data-accelerators/duckdb",children:"DuckDB"})," as the acceleration engine."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"sqlite"}),": Use ",(0,s.jsx)(t.a,{href:"/components/data-accelerators/sqlite",children:"SQLite"})," as the acceleration engine."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"postgres"}),": Use ",(0,s.jsx)(t.a,{href:"/components/data-accelerators/postgres/",children:"PostgreSQL"})," as the acceleration engine."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"refresh_mode"}),": Optional. The refresh mode to use. If specified, this must be set to ",(0,s.jsx)(t.code,{children:"changes"}),". Any other value is an error."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"mode"}),": Optional. The persistence mode to use. When using the ",(0,s.jsx)(t.code,{children:"duckdb"})," and ",(0,s.jsx)(t.code,{children:"sqlite"})," engines, it is recommended to set this to ",(0,s.jsx)(t.code,{children:"file"})," to persist the data across restarts. Spice also persists metadata about the dataset, so it can resume from the last known state of the dataset instead of re-fetching the entire dataset."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(t.p,{children:["See an example of configuring a dataset to use CDC with Debezium by following the sample ",(0,s.jsx)(t.a,{href:"https://github.com/spiceai/samples/tree/trunk/cdc-debezium",children:"Streaming changes in real-time with Debezium CDC"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var s=n(6540);const i={},a=s.createContext(i);function o(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);