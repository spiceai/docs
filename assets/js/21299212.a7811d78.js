"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[8175],{9164:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=r(4848),n=r(8453);const i={title:"Language Model Overrides",sidebar_label:"Default overrides",description:"Learn how to override default LLM hyperparameters in Spice.",sidebar_position:1,pagination_prev:null,pagination_next:null},o=void 0,s={id:"features/ai-gateway/default_overrides",title:"Language Model Overrides",description:"Learn how to override default LLM hyperparameters in Spice.",source:"@site/docs/features/ai-gateway/default_overrides.md",sourceDirName:"features/ai-gateway",slug:"/features/ai-gateway/default_overrides",permalink:"/features/ai-gateway/default_overrides",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/features/ai-gateway/default_overrides.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Language Model Overrides",sidebar_label:"Default overrides",description:"Learn how to override default LLM hyperparameters in Spice.",sidebar_position:1,pagination_prev:null,pagination_next:null},sidebar:"docsSidebar"},d={},p=[{value:"Chat Completion Parameter Overrides",id:"chat-completion-parameter-overrides",level:3},{value:"System Prompt",id:"system-prompt",level:3}];function c(e){const t={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h3,{id:"chat-completion-parameter-overrides",children:"Chat Completion Parameter Overrides"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"/api/http/chat-completions",children:(0,a.jsx)(t.code,{children:"v1/chat/completion"})})," is an OpenAI compatible endpoint."]}),"\n",(0,a.jsxs)(t.p,{children:["It supports all request body parameters defined in the ",(0,a.jsx)(t.a,{href:"https://platform.openai.com/docs/api-reference/chat/create",children:"OpenAI reference documentation"}),". Spice can configure different defaults for these request parameters."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",children:'models:\n  - name: pirate-haikus\n    from: openai:gpt-4o\n    params:\n      openai_temperature: 0.1\n      openai_response_format: { "type": "json_object" }\n'})}),"\n",(0,a.jsxs)(t.p,{children:["To specify a default override for a parameter, use the ",(0,a.jsx)(t.code,{children:"openai_"})," prefix followed by the parameter name. For example, to set the ",(0,a.jsx)(t.code,{children:"temperature"})," parameter to ",(0,a.jsx)(t.code,{children:"0.1"}),", use ",(0,a.jsx)(t.code,{children:"openai_temperature: 0.1"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"system-prompt",children:"System Prompt"}),"\n",(0,a.jsx)(t.p,{children:"In addition to any system prompts provided in message dialogue, or added by model providers, Spice can configure an additional system prompt."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",children:"models:\n  - name: pirate-haikus\n    from: openai:gpt-4o\n    params:\n      system_prompt: |\n        Write everything in Haiku like a pirate\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Any request to ",(0,a.jsxs)(t.a,{href:"/api/http/chat-completions",children:["HTTP ",(0,a.jsx)(t.code,{children:"v1/chat/completion"})]})," will include the configured system prompt."]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>s});var a=r(6540);const n={},i=a.createContext(n);function o(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);