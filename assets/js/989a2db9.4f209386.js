"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[7355],{8843:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>m,frontMatter:()=>n,metadata:()=>i,toc:()=>d});var t=r(4848),a=r(8453);const n={title:"AWS Secrets Manager Secret Store",sidebar_label:"AWS Secrets Manager Secret Store",sidebar_position:3,description:"AWS Secrets Manager Secret Store Documentation"},c=void 0,i={id:"secret-stores/aws-secrets-manager/index",title:"AWS Secrets Manager Secret Store",description:"AWS Secrets Manager Secret Store Documentation",source:"@site/docs/secret-stores/aws-secrets-manager/index.md",sourceDirName:"secret-stores/aws-secrets-manager",slug:"/secret-stores/aws-secrets-manager/",permalink:"/secret-stores/aws-secrets-manager/",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/secret-stores/aws-secrets-manager/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"AWS Secrets Manager Secret Store",sidebar_label:"AWS Secrets Manager Secret Store",sidebar_position:3,description:"AWS Secrets Manager Secret Store Documentation"},sidebar:"docsSidebar",previous:{title:"File Secret Store",permalink:"/secret-stores/file/"},next:{title:"Kubernetes Secret Store",permalink:"/secret-stores/kubernetes/"}},o={},d=[{value:"AWS Secrets Manager Access",id:"aws-secrets-manager-access",level:2}];function l(e){const s={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"aws_secrets_manager"})," store enables Spice to read secrets from ",(0,t.jsx)(s.a,{href:"https://aws.amazon.com/secrets-manager/",children:"AWS Secrets Manager"}),"."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",children:"version: v1beta1\nkind: Spicepod\nname: taxi_trips\nsecrets:\n  store: aws_secrets_manager\n"})}),"\n",(0,t.jsxs)(s.p,{children:["The store reads secrets named as ",(0,t.jsx)(s.code,{children:"spice_secret_<secret-name>"}),", for example ",(0,t.jsx)(s.code,{children:"dremio"})," login and password must be defined as ",(0,t.jsx)(s.code,{children:"spice_secret_dremio"})," secret in ",(0,t.jsx)(s.a,{href:"https://console.aws.amazon.com/secretsmanager/listsecrets",children:"AWS Secrets Manager"})]}),"\n",(0,t.jsx)("img",{src:"/img/secrets-aws-secrets-manager-dremio-1.png",alt:"",width:"800"}),"\n",(0,t.jsx)("img",{src:"/img/secrets-aws-secrets-manager-dremio-2.png",alt:"",width:"800"}),"\n",(0,t.jsx)(s.p,{children:"A complete spicepod definition with a dataset that uses a secret from AWS Secrets Manager created above."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",children:"version: v1beta1\nkind: Spicepod\nname: taxi_trips\nsecrets:\n  store: aws_secrets_manager\n\ndatasets:\n- from: dremio:datasets.taxi_trips\n  name: taxi_trips\n  description: dremio taxi trips\n  params:\n    endpoint: grpc://20.163.171.81:32010\n"})}),"\n",(0,t.jsx)(s.h2,{id:"aws-secrets-manager-access",children:"AWS Secrets Manager Access"}),"\n",(0,t.jsxs)(s.p,{children:["To use AWS Secrets Manager, an AWS account and a user in IAM Identity Center with the ",(0,t.jsx)(s.code,{children:"secretsmanager:GetSecretValue"})," permission are required. Read ",(0,t.jsx)(s.a,{href:"https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access.html",children:"Authentication and access control for AWS Secrets Manager"})," for details."]}),"\n",(0,t.jsxs)(s.p,{children:["Use the ",(0,t.jsx)(s.a,{href:"https://docs.aws.amazon.com/cli/v1/userguide/cli-chap-authentication.html",children:"AWS CLI"})," to configure AWS access:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"aws configure\n"})}),"\n",(0,t.jsx)(s.p,{children:"Check configuration with:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"aws sts get-caller-identity\naws secretsmanager get-secret-value --secret-id MyTestSecret\n"})})]})}function m(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>c,x:()=>i});var t=r(6540);const a={},n=t.createContext(a);function c(e){const s=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(n.Provider,{value:s},e.children)}}}]);