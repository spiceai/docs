"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[9020],{2565:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var n=t(4848),r=t(8453);const s={title:"Local Acceleration",sidebar_label:"Local Acceleration",description:"",sidebar_position:3,pagination_prev:null,pagination_next:null},c=void 0,l={id:"local-acceleration/index",title:"Local Acceleration",description:"",source:"@site/docs/local-acceleration/index.md",sourceDirName:"local-acceleration",slug:"/local-acceleration/",permalink:"/local-acceleration/",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/local-acceleration/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Local Acceleration",sidebar_label:"Local Acceleration",description:"",sidebar_position:3,pagination_prev:null,pagination_next:null},sidebar:"docsSidebar"},i={},o=[{value:"Benefits",id:"benefits",level:2},{value:"Example Use Case",id:"example-use-case",level:2},{value:"Considerations",id:"considerations",level:2},{value:"Refresh Modes",id:"refresh-modes",level:2},{value:"Refresh Interval",id:"refresh-interval",level:2},{value:"Example",id:"example",level:2},{value:"Locally Accelerating eth.recent_blocks",id:"locally-accelerating-ethrecent_blocks",level:3},{value:"Limitations",id:"limitations",level:2}];function d(e){const a={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["Datasets can be locally accelerated by the Spice runtime, pulling data from any ",(0,n.jsx)(a.a,{href:"/data-connectors",children:"Data Connector"})," and storing it locally in a ",(0,n.jsx)(a.a,{href:"/data-accelerators",children:"Data Accelerator"})," for faster access. Additionally, the data is kept up to date in realtime, so you always have the latest data locally for querying."]}),"\n",(0,n.jsx)(a.h2,{id:"benefits",children:"Benefits"}),"\n",(0,n.jsxs)(a.p,{children:["When a dataset is locally accelerated by the Spice runtime, the data is stored alongside your application, providing much faster query times by cutting out network latency to make the request. This benefit is accentuated when the result of a query is large because the data does not need to be transferred over the network. Depending on the ",(0,n.jsx)(a.a,{href:"/data-accelerators",children:"Acceleration Engine"})," chosen, the locally accelerated data can also be stored in-memory, further reducing query times."]}),"\n",(0,n.jsx)(a.h2,{id:"example-use-case",children:"Example Use Case"}),"\n",(0,n.jsxs)(a.p,{children:["Consider a high volume e-trading frontend application backed by an AWS RDS database containing a table of trades. In order to retrieve all trades over the last 24 hours, the application would need to query the remote database for all trades in the last 24 hours and then transfer the data over the network. By accelerating the trades table locally using the ",(0,n.jsx)(a.a,{href:"https://github.com/spiceai/quickstarts/tree/trunk/rds-aurora-mysql",children:"AWS RDS Data Connector"}),", we can bring the data to the application, saving the round trip time to the database and the time to transfer the data over the network."]}),"\n",(0,n.jsx)(a.h2,{id:"considerations",children:"Considerations"}),"\n",(0,n.jsx)(a.p,{children:"Data Storage: Ensure that the local storage has enough capacity to store the accelerated data. The amount and type (i.e. Disk or RAM) of storage required will depend on the size of the dataset and the acceleration engine used."}),"\n",(0,n.jsx)(a.p,{children:"Data Security: Assess data sensitivity and secure network connections between edge and data connector when replicating data for further usage. Assess the security of any Data Accelerator that is external to the Spice runtime and connected to the Spice runtime. Implement encryption, access controls, and secure protocols."}),"\n",(0,n.jsx)(a.h2,{id:"refresh-modes",children:"Refresh Modes"}),"\n",(0,n.jsxs)(a.p,{children:["Dataset acceleration can be configured in ",(0,n.jsx)(a.code,{children:"full"})," (the entire dataset is refreshed) or ",(0,n.jsx)(a.code,{children:"append"})," (new data from a dataset source is appended) modes."]}),"\n",(0,n.jsx)(a.h2,{id:"refresh-interval",children:"Refresh Interval"}),"\n",(0,n.jsxs)(a.p,{children:["The data refresh interval for an accelerated dataset in ",(0,n.jsx)(a.code,{children:"full"})," mode can be specified via ",(0,n.jsx)(a.a,{href:"/reference/spicepod/datasets#accelerationrefresh_interval",children:"refresh_interval"})," parameter (see Example section below), triggered via ",(0,n.jsx)(a.a,{href:"cli/reference/refresh",children:"refresh"})," command or API (",(0,n.jsx)(a.code,{children:"POST"}),", ",(0,n.jsx)(a.code,{children:"/v1/datasets/:name/refresh"}),")."]}),"\n",(0,n.jsx)(a.p,{children:"An example CuRL"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"curl -i -XPOST 127.0.0.1:3000/v1/datasets/eth_recent_blocks/refresh\n"})}),"\n",(0,n.jsx)(a.p,{children:"And response"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:'HTTP/1.1 201 Created\ncontent-type: application/json\ncontent-length: 55\ndate: Thu, 11 Apr 2024 20:11:18 GMT\n\n{"message":"Dataset refresh triggered for eth_recent_blocks."}\n'})}),"\n",(0,n.jsx)(a.h2,{id:"example",children:"Example"}),"\n",(0,n.jsx)(a.h3,{id:"locally-accelerating-ethrecent_blocks",children:"Locally Accelerating eth.recent_blocks"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Start Spice with the following dataset:"}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-yaml",children:"datasets:\n  - from: spice.ai/eth.recent_blocks\n    name: eth_recent_blocks\n    acceleration:\n      enabled: true\n      refresh_mode: full\n      refresh_interval: 10s\n"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:["The dataset ",(0,n.jsx)(a.code,{children:"eth.recent_blocks"})," will be accelerated locally by the Spice runtime. The data will be refreshed every 10 seconds."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsx)(a.p,{children:"Compare query times against the Spice platform:"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"curl \\\n--url 'https://data.spiceai.io/v1/sql?api_key=[API_KEY]' \\\n--data 'select * from eth.recent_blocks'\n"})}),"\n",(0,n.jsx)(a.p,{children:"And the locally accelerated dataset:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"spice sql\nselect * from eth_recent_blocks\n"})}),"\n",(0,n.jsx)(a.h2,{id:"limitations",children:"Limitations"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Currently, only official ",(0,n.jsx)(a.a,{href:"./data-accelerators",children:"Data Accelerators"})," are supported for local acceleration."]}),"\n"]})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,a,t)=>{t.d(a,{R:()=>c,x:()=>l});var n=t(6540);const r={},s=n.createContext(r);function c(e){const a=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(s.Provider,{value:a},e.children)}}}]);