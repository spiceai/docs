"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[6261],{1483:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>g,frontMatter:()=>c,metadata:()=>t,toc:()=>a});var o=i(4848),s=i(8453);const c={title:"HuggingFace",sidebar_label:"HuggingFace",sidebar_position:1},l=void 0,t={id:"components/models/huggingface",title:"HuggingFace",description:"To use a ML model hosted on HuggingFace, specify the huggingface.co path in from along with the files to include.",source:"@site/docs/components/models/huggingface.md",sourceDirName:"components/models",slug:"/components/models/huggingface",permalink:"/components/models/huggingface",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/components/models/huggingface.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"HuggingFace",sidebar_label:"HuggingFace",sidebar_position:1},sidebar:"docsSidebar",previous:{title:"AI/ML Models",permalink:"/components/models/"},next:{title:"Spice Cloud Platform",permalink:"/components/models/spiceai"}},r={},a=[{value:"<code>from</code> Format",id:"from-format",level:2},{value:"Examples",id:"examples",level:3},{value:"Specification",id:"specification",level:3},{value:"Access Tokens",id:"access-tokens",level:3}];function d(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["To use a ML model hosted on HuggingFace, specify the ",(0,o.jsx)(n.code,{children:"huggingface.co"})," path in ",(0,o.jsx)(n.code,{children:"from"})," along with the files to include."]}),"\n",(0,o.jsx)(n.p,{children:"Example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"models:\n  - from: huggingface:huggingface.co/spiceai/darts:latest\n    name: hf_model\n    files:\n      - path: model.onnx\n    datasets:\n      - taxi_trips\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"from-format",children:[(0,o.jsx)(n.code,{children:"from"})," Format"]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"from"})," key follows the following regex format:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-regex",children:"\\A(huggingface:)(huggingface\\.co\\/)?(?<org>[\\w\\-]+)\\/(?<model>[\\w\\-]+)(:(?<revision>[\\w\\d\\-\\.]+))?\\z\n"})}),"\n",(0,o.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"huggingface:username/modelname"}),": Implies the latest version of ",(0,o.jsx)(n.code,{children:"modelname"})," hosted by ",(0,o.jsx)(n.code,{children:"username"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"huggingface:huggingface.co/username/modelname:revision"}),": Specifies a particular ",(0,o.jsx)(n.code,{children:"revision"})," of ",(0,o.jsx)(n.code,{children:"modelname"})," by ",(0,o.jsx)(n.code,{children:"username"}),", including the optional domain."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"specification",children:"Specification"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Prefix:"})," The value must start with ",(0,o.jsx)(n.code,{children:"huggingface:"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Domain (Optional):"})," Optionally includes ",(0,o.jsx)(n.code,{children:"huggingface.co/"})," immediately after the prefix. Currently no other Huggingface compatible services are supported."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Organization/User:"})," The HuggingFace organization (",(0,o.jsx)(n.code,{children:"org"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Model Name:"})," After a ",(0,o.jsx)(n.code,{children:"/"}),", the model name (",(0,o.jsx)(n.code,{children:"model"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Revision (Optional):"})," A colon (",(0,o.jsx)(n.code,{children:":"}),") followed by the git-like revision identifier (",(0,o.jsx)(n.code,{children:"revision"}),")."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"access-tokens",children:"Access Tokens"}),"\n",(0,o.jsx)(n.p,{children:"Access tokens can be provided for Huggingface models in two ways:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["In the Huggingface token cache (i.e. ",(0,o.jsx)(n.code,{children:"~/.cache/huggingface/token"}),"). Default."]}),"\n",(0,o.jsx)(n.li,{children:"Via model params (see below)."}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"models:\n  - name: llama_3.2_1B\n    from: huggingface:huggingface.co/meta-llama/Llama-3.2-1B\n    params:\n      hf_token: ${ secrets:HF_TOKEN }\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"Limitations",type:"warning",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"ML models currently only support ONNX file format."}),"\n"]})})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var o=i(6540);const s={},c=o.createContext(s);function l(e){const n=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),o.createElement(c.Provider,{value:n},e.children)}}}]);