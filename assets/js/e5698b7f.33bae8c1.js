"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[3811],{7319:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>o,toc:()=>d});var r=t(4848),n=t(8453);const a={title:"AWS Secrets Manager Secret Store",sidebar_label:"AWS Secrets Manager Secret Store",sidebar_position:3,description:"AWS Secrets Manager Secret Store Documentation"},c=void 0,o={id:"components/secret-stores/aws-secrets-manager/index",title:"AWS Secrets Manager Secret Store",description:"AWS Secrets Manager Secret Store Documentation",source:"@site/docs/components/secret-stores/aws-secrets-manager/index.md",sourceDirName:"components/secret-stores/aws-secrets-manager",slug:"/components/secret-stores/aws-secrets-manager/",permalink:"/components/secret-stores/aws-secrets-manager/",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/components/secret-stores/aws-secrets-manager/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"AWS Secrets Manager Secret Store",sidebar_label:"AWS Secrets Manager Secret Store",sidebar_position:3,description:"AWS Secrets Manager Secret Store Documentation"},sidebar:"docsSidebar",previous:{title:"File Secret Store",permalink:"/components/secret-stores/file/"},next:{title:"Kubernetes Secret Store",permalink:"/components/secret-stores/kubernetes/"}},i={},d=[{value:"AWS Secrets Manager Access",id:"aws-secrets-manager-access",level:2}];function m(e){const s={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"aws_secrets_manager"})," store enables Spice to read secrets from ",(0,r.jsx)(s.a,{href:"https://aws.amazon.com/secrets-manager/",children:"AWS Secrets Manager"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"version: v1beta1\nkind: Spicepod\nname: taxi_trips\nsecrets:\n  store: aws_secrets_manager\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The store reads secrets named as ",(0,r.jsx)(s.code,{children:"spice_secret_<secret-name>"}),", for example ",(0,r.jsx)(s.code,{children:"dremio"})," login and password must be defined as ",(0,r.jsx)(s.code,{children:"spice_secret_dremio"})," secret in ",(0,r.jsx)(s.a,{href:"https://console.aws.amazon.com/secretsmanager/listsecrets",children:"AWS Secrets Manager"})]}),"\n",(0,r.jsx)("img",{src:"/img/secrets-aws-secrets-manager-dremio-1.png",alt:"",width:"800"}),"\n",(0,r.jsx)("img",{src:"/img/secrets-aws-secrets-manager-dremio-2.png",alt:"",width:"800"}),"\n",(0,r.jsx)(s.p,{children:"A complete spicepod definition with a dataset that uses a secret from AWS Secrets Manager created above."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"version: v1beta1\nkind: Spicepod\nname: taxi_trips\nsecrets:\n  store: aws_secrets_manager\n\ndatasets:\n- from: dremio:datasets.taxi_trips\n  name: taxi_trips\n  description: dremio taxi trips\n  params:\n    endpoint: grpc://20.163.171.81:32010\n"})}),"\n",(0,r.jsx)(s.h2,{id:"aws-secrets-manager-access",children:"AWS Secrets Manager Access"}),"\n",(0,r.jsxs)(s.p,{children:["To use AWS Secrets Manager, an AWS account and a user in IAM Identity Center with the ",(0,r.jsx)(s.code,{children:"secretsmanager:GetSecretValue"})," permission are required. Read ",(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access.html",children:"Authentication and access control for AWS Secrets Manager"})," for details."]}),"\n",(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/cli/v1/userguide/cli-chap-authentication.html",children:"AWS CLI"})," to configure AWS access:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"aws configure\n"})}),"\n",(0,r.jsx)(s.p,{children:"Check configuration with:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"aws sts get-caller-identity\naws secretsmanager get-secret-value --secret-id MyTestSecret\n"})})]})}function l(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>o});var r=t(6540);const n={},a=r.createContext(n);function c(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);