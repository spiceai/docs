"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[2144],{5032:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>r});var n=a(4848),o=a(8453);const c={title:"Unity Catalog Catalog Connector",sidebar_label:"Unity Catalog",description:"Connect to a Unity Catalog provider.",sidebar_position:2,pagination_prev:null,pagination_next:null},s=void 0,i={id:"components/catalogs/unity-catalog",title:"Unity Catalog Catalog Connector",description:"Connect to a Unity Catalog provider.",source:"@site/docs/components/catalogs/unity-catalog.md",sourceDirName:"components/catalogs",slug:"/components/catalogs/unity-catalog",permalink:"/components/catalogs/unity-catalog",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/components/catalogs/unity-catalog.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Unity Catalog Catalog Connector",sidebar_label:"Unity Catalog",description:"Connect to a Unity Catalog provider.",sidebar_position:2,pagination_prev:null,pagination_next:null},sidebar:"docsSidebar"},l={},r=[{value:"Configuration",id:"configuration",level:2},{value:"<code>from</code>",id:"from",level:2},{value:"<code>name</code>",id:"name",level:2},{value:"<code>include</code>",id:"include",level:2},{value:"<code>dataset_params</code>",id:"dataset_params",level:2},{value:"AWS S3",id:"aws-s3",level:4},{value:"Azure Blob",id:"azure-blob",level:4},{value:"Google Storage (GCS)",id:"google-storage-gcs",level:4}];function d(e){const t={a:"a",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Connect to a ",(0,n.jsx)(t.a,{href:"https://www.unitycatalog.io/",children:"Unity Catalog"})," as a catalog provider for federated SQL query against ",(0,n.jsx)(t.a,{href:"https://delta.io/",children:"Delta Lake"})," tables."]}),"\n",(0,n.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",children:'catalogs:\n  - from: unity_catalog:https://my_unity_catalog_host.com/api/2.1/unity-catalog/catalogs/my_catalog\n    name: uc\n    include:\n      - "*.my_table"\n    dataset_params:\n      # delta_lake S3 parameters\n      aws_region: us-west-2\n      aws_access_key_id: <aws-access-key-id>\n      aws_secret_access_key: <aws-secret>\n      aws_endpoint: s3.us-west-2.amazonaws.com\n'})}),"\n",(0,n.jsx)(t.h2,{id:"from",children:(0,n.jsx)(t.code,{children:"from"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"from"})," field is used to specify the catalog provider. For Unity Catalog, use ",(0,n.jsx)(t.code,{children:"unity_catalog:<catalog_path>"}),". The ",(0,n.jsx)(t.code,{children:"catalog_path"})," is the URL to the ",(0,n.jsx)(t.a,{href:"https://github.com/unitycatalog/unitycatalog/blob/main/api/Apis/CatalogsApi.md",children:(0,n.jsx)(t.code,{children:"getCatalog"})})," endpoint of the Unity Catalog API. It should be formatted as ",(0,n.jsx)(t.code,{children:"https://<unity_catalog_host>/api/2.1/unity-catalog/catalogs/<catalog_name>"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"name",children:(0,n.jsx)(t.code,{children:"name"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"name"})," field is used to specify the name of the catalog in Spice. The schema hierarchy of the external catalog is preserved in Spice."]}),"\n",(0,n.jsx)(t.h2,{id:"include",children:(0,n.jsx)(t.code,{children:"include"})}),"\n",(0,n.jsxs)(t.p,{children:["Use the ",(0,n.jsx)(t.code,{children:"include"})," field to specify which tables to include from the catalog. The ",(0,n.jsx)(t.code,{children:"include"})," field supports glob patterns to match multiple tables. For example, ",(0,n.jsx)(t.code,{children:"*.my_table_name"})," would include all tables with the name ",(0,n.jsx)(t.code,{children:"my_table_name"})," in the catalog from any schema. Multiple ",(0,n.jsx)(t.code,{children:"include"})," patterns are OR'ed together and can be specified to include multiple tables."]}),"\n",(0,n.jsx)(t.h2,{id:"dataset_params",children:(0,n.jsx)(t.code,{children:"dataset_params"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"dataset_params"})," field is used to configure the dataset-specific parameters for the catalog."]}),"\n",(0,n.jsxs)(t.p,{children:["These settings can also be configured in the ",(0,n.jsx)(t.code,{children:"delta_lake"})," secret. See the ",(0,n.jsx)(t.a,{href:"/components/data-connectors/delta-lake",children:"Delta Lake Data Connector"})," for more information on configuring the secret."]}),"\n",(0,n.jsx)(t.h4,{id:"aws-s3",children:"AWS S3"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"aws_region"}),": The AWS region for the S3 object store."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"aws_access_key_id"}),": The access key ID for the S3 object store."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"aws_secret_access_key"}),": The secret access key for the S3 object store."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"aws_endpoint"}),": The endpoint for the S3 object store."]}),"\n"]}),"\n",(0,n.jsx)(t.h4,{id:"azure-blob",children:"Azure Blob"}),"\n",(0,n.jsxs)(t.p,{children:["Note: One of the following must be provided: ",(0,n.jsx)(t.code,{children:"azure_storage_account_key"}),", ",(0,n.jsx)(t.code,{children:"azure_storage_client_id"})," and ",(0,n.jsx)(t.code,{children:"azure_storage_client_secret"}),", or ",(0,n.jsx)(t.code,{children:"azure_storage_sas_key"}),"."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"azure_storage_account_name"}),": The Azure Storage account name."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"azure_storage_account_key"}),": The Azure Storage master key for accessing the storage account."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"azure_storage_client_id"}),": The service principal client id for accessing the storage account."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"azure_storage_client_secret"}),": The service principal client secret for accessing the storage account."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"azure_storage_sas_key"}),": The shared access signature key for accessing the storage account."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"azure_storage_endpoint"}),": The endpoint for the Azure Blob storage account."]}),"\n"]}),"\n",(0,n.jsx)(t.h4,{id:"google-storage-gcs",children:"Google Storage (GCS)"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"google_service_account"}),": Filesystem path to the Google service account JSON key file."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>i});var n=a(6540);const o={},c=n.createContext(o);function s(e){const t=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(c.Provider,{value:t},e.children)}}}]);