"use strict";(self.webpackChunkspiceaidocs=self.webpackChunkspiceaidocs||[]).push([[4029],{8065:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var t=r(4848),i=r(8453);const a={title:"ADBC: Arrow Database Connectivity",sidebar_label:"ADBC",sidebar_position:2,description:"ADBC API Documentation",pagination_prev:null,pagination_next:null},c=void 0,s={id:"api/adbc/index",title:"ADBC: Arrow Database Connectivity",description:"ADBC API Documentation",source:"@site/docs/api/adbc/index.md",sourceDirName:"api/adbc",slug:"/api/adbc/",permalink:"/api/adbc/",draft:!1,unlisted:!1,editUrl:"https://github.com/spiceai/docs/tree/trunk/spiceaidocs/docs/api/adbc/index.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"ADBC: Arrow Database Connectivity",sidebar_label:"ADBC",sidebar_position:2,description:"ADBC API Documentation",pagination_prev:null,pagination_next:null},sidebar:"docsSidebar"},o={},l=[{value:"Quickstart",id:"quickstart",level:2},{value:"Installation",id:"installation",level:3},{value:"Create a connection to Spice over ADBC",id:"create-a-connection-to-spice-over-adbc",level:3},{value:"Create a cursor",id:"create-a-cursor",level:3},{value:"Executing a query",id:"executing-a-query",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://arrow.apache.org/adbc",children:"ADBC"})," is a set of APIs and libraries for Arrow-native access to databases."]}),"\n",(0,t.jsxs)(n.p,{children:["Spice supports ADBC clients using the ",(0,t.jsx)(n.a,{href:"https://arrow.apache.org/adbc/current/driver/flight_sql.html",children:"FlightSQL driver"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"quickstart",children:"Quickstart"}),"\n",(0,t.jsx)(n.p,{children:"Get started with ADBC using Python."}),"\n",(0,t.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.p,{children:"Start Python Envionment."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"python\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install the ADBC driver manager, FlightSQL driver, and PyArrow."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"pip install adbc_driver_manager adbc_driver_flightsql pyarrow\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-a-connection-to-spice-over-adbc",children:"Create a connection to Spice over ADBC"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:">>> import adbc_driver_flightsql.dbapi\n>>> conn = adbc_driver_flightsql.dbapi.connect('grpc://localhost:50051')\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-a-cursor",children:"Create a cursor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:">>> cursor = conn.cursor()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"executing-a-query",children:"Executing a query"}),"\n",(0,t.jsx)(n.p,{children:"DBAPI interface:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:">>> cursor.execute(\"SELECT 1, 2.0, 'Hello, world!'\")\n>>> cursor.fetchone()\n(1, 2.0, 'Hello, world!')\n>>> cursor.execute(\"SHOW TABLES\")\n>>> cursor.fetchall()\n[('spice', 'public', 'messages', 'BASE TABLE'), ('spice', 'runtime', 'query_history', 'BASE TABLE'), ('spice', 'information_schema', 'tables', 'VIEW'), ('spice', 'information_schema', 'views', 'VIEW'), ('spice', 'information_schema', 'columns', 'VIEW'), ('spice', 'information_schema', 'df_settings', 'VIEW'), ('spice', 'information_schema', 'schemata', 'VIEW')]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Arrow:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:">>> cursor.execute(\"SELECT 1, 2.0, 'Hello, world!'\")\n>>> cursor.fetch_arrow_table()\npyarrow.Table\n1: int64\n2.0: double\n'Hello, world!': string\n----\n1: [[1]]\n2.0: [[2]]\n'Hello, world!': [[\"Hello, world!\"]]\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>s});var t=r(6540);const i={},a=t.createContext(i);function c(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);